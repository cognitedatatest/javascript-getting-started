(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{276:function(e,t,n){e.exports=n(601)},281:function(e,t,n){},601:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(10),i=n.n(r),o=(n(281),n(49)),s=n.n(o),u=n(87),l=n(120),d=n(121),h=n(129),p=n(122),f=n(131),m=n(58),v=n(90),b=n(102),j=n(7),w=n(603),O=n(604),k=n(38);function g(){var e=Object(m.a)(["\n  width: 15%;\n  padding: 0 0 0 5px;\n"]);return g=function(){return e},e}function S(){var e=Object(m.a)(["\n  width: 45%;\n"]);return S=function(){return e},e}function y(){var e=Object(m.a)(["\n  width: 40%;\n"]);return y=function(){return e},e}function C(){var e=Object(m.a)(["\n  width: 90vw;\n  height: 80vh;\n  display: flex;\n  justify-content: left;\n"]);return C=function(){return e},e}var x=j.c.div(C()),E=j.c.div(y()),A=j.c.div(S()),T=j.c.div(g()),P=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).state={assetChecked:null,timeseriesChecked:[]},n.handleAssetSelect=function(e){console.log("Asset checked: ".concat(e.title)),n.setState({assetChecked:e.key})},n.handleSeriesSelect=function(e){n.setState({timeseriesChecked:e})},n.handleSeriesConnect=Object(u.a)(s.a.mark(function e(){var t,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n.state.timeseriesChecked.map(function(e){return{id:e,update:{assetId:{set:n.state.assetChecked}}}})).length){e.next=8;break}return e.next=4,n.props.client.timeseries.update(t);case 4:a=n.state.timeseriesChecked.join(", "),w.a.open({message:"Successfully connected",description:"Asset: ".concat(n.state.assetChecked," was connected to Timeseries: ").concat(a),duration:3}),e.next=9;break;case 8:O.a.info("Nothing to connect");case 9:case"end":return e.stop()}},e)})),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return c.a.createElement(x,null,c.a.createElement(E,null,c.a.createElement(v.a,{onSelect:this.handleAssetSelect})),c.a.createElement(A,null,c.a.createElement(v.d,{onTimeserieSelectionChange:this.handleSeriesSelect,filterRule:function(e){return!e.assetId}})),c.a.createElement(T,null,c.a.createElement(k.a,{type:"primary",onClick:this.handleSeriesConnect},"Connect")))}}]),t}(c.a.Component);n(600);function I(){var e=Object(m.a)(["\n  max-width: 600px;\n  min-width: 400px;\n"]);return I=function(){return e},e}function L(){var e=Object(m.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return L=function(){return e},e}var J=j.c.div(L()),W=j.c.div(I()),B=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).state={tenant:null},n.client=new b.CogniteClient({appId:"charting-app-example"}),n.onTenantSelected=function(){var e=Object(u.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.client.loginWithOAuth({project:t,onAuthenticate:b.POPUP}),e.next=3,n.client.authenticate();case 3:n.setState({tenant:t});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){Object(b.isLoginPopupWindow)()&&Object(b.loginPopupHandler)()}},{key:"renderLoginScreen",value:function(){return c.a.createElement(W,null,c.a.createElement(v.c,{title:"Timeseries Connector",initialTenant:"publicdata",onTenantSelected:this.onTenantSelected}))}},{key:"render",value:function(){var e=null!==this.state.tenant;return c.a.createElement(v.b,{client:this.client},c.a.createElement(J,null,e?c.a.createElement(P,{client:this.client}):this.renderLoginScreen()))}}]),t}(c.a.Component);i.a.render(c.a.createElement(B,null),document.getElementById("root"))}},[[276,1,2]]]);
//# sourceMappingURL=main.5da40956.chunk.js.map