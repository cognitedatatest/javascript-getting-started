(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{283:function(e,n,t){e.exports=t(602)},602:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),i=t(10),c=t.n(i),o=(t(288),t(42)),l=t.n(o),u=t(71),s=t(122),d=t(123),p=t(131),f=t(124),h=t(132),v=t(56),m=t(7),b=t(76),O=t(104),j=t(604),x=t(39);function g(){var e=Object(v.a)(["\n  flex: 0;\n  margin-left: 5px;\n"]);return g=function(){return e},e}function y(){var e=Object(v.a)(["\n  display: flex;\n  flex: 1;\n"]);return y=function(){return e},e}function w(){var e=Object(v.a)(["\n  padding: 10px;\n  position: relative;\n  flex: 1;\n  display: flex;\n  z-index: 0;\n\n  > div {\n    height: 100% !important;\n    width: 100% !important;\n  }\n"]);return w=function(){return e},e}function S(){var e=Object(v.a)(["\n  display: flex;\n  padding: 10px;\n  background-color: blue;\n  position: relative;\n  z-index: 1;\n"]);return S=function(){return e},e}function E(){var e=Object(v.a)(["\n  display: flex;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  flex-direction: column;\n"]);return E=function(){return e},e}var k=Object(m.c)("div")(E()),D=Object(m.c)("div")(S()),I=Object(m.c)("div")(w()),T=Object(m.c)("div")(y()),L=Object(m.c)("div")(g()),P=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(p.a)(this,(e=Object(f.a)(n)).call.apply(e,[this].concat(r)))).cache={},t.state={asset:null,modelID:null,revisionID:null},t.onLiveSearchSelect=function(){var e=Object(u.a)(l.a.mark(function e(n){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({asset:n});case 1:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),t.reset=function(){return t.setState({asset:null})},t}return Object(h.a)(n,e),Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark(function e(){var n,t,a,r,i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.client,e.next=3,n.models3D.list().autoPagingToArray();case 3:if((t=e.sent).length){e.next=7;break}return j.a.error({description:"Your Tenant doesn't have any models",message:"Fail fetch models list"}),e.abrupt("return");case 7:return a=t[0].id,e.next=10,n.revisions3D.list(a).autoPagingToArray();case 10:if((r=e.sent).length){e.next=14;break}return j.a.error({description:"Model has no revisions",message:"Fail fetch revisions list"}),e.abrupt("return");case 14:i=r[0].id,this.setState({modelID:a,revisionID:i});case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,n=e.asset,t=e.modelID,a=e.revisionID;return r.a.createElement(k,null,r.a.createElement(D,null,r.a.createElement(T,null,r.a.createElement(b.b,{onLiveSearchSelect:this.onLiveSearchSelect})),r.a.createElement(L,null,r.a.createElement(x.a,{disabled:!n,onClick:this.reset},"Scanner"))),r.a.createElement(I,null,n&&t&&a?r.a.createElement(b.d,{modelId:t,revisionId:a,assetId:n.id,cache:this.cache}):r.a.createElement(b.a,null)))}}]),n}(r.a.Component);function A(){var e=Object(v.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 50px 0 0;\n\n  > * {\n    width: 400px;\n  }\n"]);return A=function(){return e},e}var C=Object(m.c)("div")(A()),z=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(p.a)(this,(e=Object(f.a)(n)).call.apply(e,[this].concat(r)))).state={tenant:null},t.client=new O.CogniteClient({appId:"charting-app-example"}),t.onTenantSelected=function(){var e=Object(u.a)(l.a.mark(function e(n){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.client.loginWithOAuth({project:n,onAuthenticate:O.POPUP}),e.next=3,t.client.authenticate();case 3:t.setState({tenant:n});case 4:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),t}return Object(h.a)(n,e),Object(d.a)(n,[{key:"componentDidMount",value:function(){Object(O.isLoginPopupWindow)()&&Object(O.loginPopupHandler)()}},{key:"renderLoginScreen",value:function(){return r.a.createElement(C,null,r.a.createElement(b.e,{header:"Type tenant name",title:"3D Localizator",initialTenant:"publicdata",onTenantSelected:this.onTenantSelected}))}},{key:"render",value:function(){var e=null!==this.state.tenant;return r.a.createElement(b.c,{client:this.client},e?r.a.createElement(P,{client:this.client}):this.renderLoginScreen())}}]),n}(r.a.Component);c.a.render(r.a.createElement(z,null),document.getElementById("root"))}},[[283,1,2]]]);
//# sourceMappingURL=main.51b2f123.chunk.js.map